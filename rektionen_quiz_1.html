<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–µ–º—Å–∫–∏ –†–µ–∫—Ü–∏–∏ - –ü—ä–ª–µ–Ω –°–ø–∏—Å—ä–∫ 255</title>
    <style>
        :root { --primary: #1a2a6c; --secondary: #b21f1f; --success: #4caf50; --error: #f44336; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg, var(--primary), var(--secondary)); min-height: 100vh; padding: 15px; }
        .container { max-width: 800px; margin: 0 auto; }
        .panel { background: white; padding: 20px; border-radius: 20px; margin-bottom: 15px; display: flex; flex-direction: column; align-items: center; gap: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .btn-group { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
        .tgl { padding: 10px 18px; border: 2px solid var(--primary); background: white; border-radius: 15px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .tgl.active { background: var(--primary); color: white; }
        .tgl-side { border-color: #555; color: #555; }
        .tgl-side.active { background: #555; color: white; }
        .main-card { background: white; border-radius: 25px; padding: 25px; min-height: 450px; box-shadow: 0 15px 40px rgba(0,0,0,0.4); display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        .header { width: 100%; display: flex; justify-content: space-between; position: absolute; top: 20px; padding: 0 25px; color: #777; font-weight: bold; }
        .quiz-box, .write-box, .card-box { width: 100%; display: none; text-align: center; }
        .opt-grid { display: grid; grid-template-columns: 1fr; gap: 10px; width: 100%; margin-top: 20px; }
        @media (min-width: 600px) { .opt-grid { grid-template-columns: 1fr 1fr; } }
        .opt { padding: 15px; border: 2px solid #eee; border-radius: 12px; background: white; cursor: pointer; font-weight: bold; }
        .opt.correct { background: var(--success) !important; color: white; }
        .opt.wrong { background: var(--error) !important; color: white; }
        input[type="text"] { width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 15px; font-size: 1.2em; text-align: center; margin-bottom: 10px; }
        .progress { width: 100%; height: 8px; background: #eee; border-radius: 4px; margin-top: 25px; overflow: hidden; }
        .bar { height: 100%; background: var(--success); width: 0%; transition: 0.4s; }
        .controls { margin-top: 20px; display: flex; gap: 10px; }
        .btn { padding: 12px 25px; border: none; border-radius: 12px; cursor: pointer; font-weight: bold; background: #eee; }
        .btn-next { background: var(--primary); color: white; }
    </style>
</head>
<body>

<div class="container">
    <div class="panel">
        <div class="btn-group">
            <button class="tgl active" id="m-fc" onclick="setMode('fc')">üìö –ö–∞—Ä—Ç–∏</button>
            <button class="tgl" id="m-qz" onclick="setMode('qz')">üéÆ –¢–µ—Å—Ç</button>
            <button class="tgl" id="m-wr" onclick="setMode('wr')">‚å®Ô∏è –ü–∏—Å–∞–Ω–µ</button>
        </div>
        <div class="btn-group">
            <button class="tgl tgl-side active" id="s-bgde" onclick="setSide('bgde')">BG ‚ûî DE</button>
            <button class="tgl tgl-side" id="s-debg" onclick="setSide('debg')">DE ‚ûî BG</button>
            <button class="tgl" style="border-color: #ffa500; color: #ffa500;" onclick="shuffleData()">üîÄ –†–∞–∑–±—ä—Ä–∫–∞–π</button>
        </div>
    </div>

    <div class="main-card">
        <div class="header"><span id="counter">1 / 255</span><span id="score">–ì—Ä–µ—à–∫–∏: 0</span></div>
        
        <div id="fc-area" class="card-box" onclick="toggleFC()" style="display:block; font-size: 1.8em; font-weight: bold; color: var(--primary); cursor:pointer;">
            <div id="fc-text">–ù–∞—Ç–∏—Å–Ω–∏ –∑–∞ —Å—Ç–∞—Ä—Ç</div>
        </div>

        <div id="qz-area" class="quiz-box">
            <div id="qz-question" style="font-size: 1.5em; font-weight: bold; color: var(--primary); margin-bottom: 20px;"></div>
            <div class="opt-grid" id="qz-options"></div>
        </div>

        <div id="wr-area" class="write-box">
            <div id="wr-question" style="font-size: 1.5em; font-weight: bold; color: var(--primary); margin-bottom: 20px;"></div>
            <input type="text" id="wr-input" placeholder="–û—Ç–≥–æ–≤–æ—Ä..." autocomplete="off">
            <div id="wr-feedback" style="margin:10px; font-weight:bold;"></div>
            <button class="btn btn-next" style="width:100%" onclick="checkWrite()">–ü—Ä–æ–≤–µ—Ä–∏</button>
        </div>

        <div class="controls" id="main-ctrl">
            <button class="btn" onclick="move(-1)">‚Üê</button>
            <button class="btn btn-next" onclick="move(1)">‚Üí</button>
        </div>
        <div class="progress"><div class="bar" id="p-bar"></div></div>
    </div>
</div>

<script>
const fullList = [
    {"de": "abbiegen in + A", "bg": "–∑–∞–≤–∏–≤–∞–º –Ω–∞"}, {"de": "abh√§ngen von + D", "bg": "–∑–∞–≤–∏—Å–∏ –æ—Ç"}, {"de": "abholen von + D", "bg": "–ø–æ—Å—Ä–µ—â–∞–º –æ—Ç (–Ω—è–∫—ä–¥–µ)"}, {"de": "abschreiben von + D", "bg": "–ø—Ä–µ–ø–∏—Å–≤–∞–º –æ—Ç"}, {"de": "achten auf + A", "bg": "–≤–Ω–∏–º–∞–≤–∞–º –∑–∞ / –æ–±—Ä—ä—â–∞–º –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞"}, {"de": "am√ºsieren (sich) √ºber + A", "bg": "–∑–∞–±–∞–≤–ª—è–≤–∞–º —Å–µ –Ω–∞"}, {"de": "anfangen mit + D", "bg": "–∑–∞–ø–æ—á–≤–∞–º —Å"}, {"de": "ankommen an + D", "bg": "–ø—Ä–∏—Å—Ç–∏–≥–∞–º –≤"}, {"de": "ankommen auf + A", "bg": "–∑–∞–≤–∏—Å–∏ –æ—Ç"}, {"de": "anmelden (sich) bei + D f√ºr + A", "bg": "–∑–∞–ø–∏—Å–≤–∞–º —Å–µ –ø—Ä–∏... –∑–∞..."}, {"de": "anpassen (sich) an + A", "bg": "–Ω–∞–≥–∞–∂–¥–∞–º —Å–µ –∫—ä–º"}, {"de": "antworten auf + A", "bg": "–æ—Ç–≥–æ–≤–∞—Ä—è–º –Ω–∞"}, {"de": "arbeiten an + D", "bg": "—Ä–∞–±–æ—Ç—è –≤—ä—Ä—Ö—É"}, {"de": "√§rgern (sich) √ºber + A", "bg": "—è–¥–æ—Å–≤–∞–º —Å–µ –Ω–∞"}, {"de": "aufh√∂ren mit + D", "bg": "–ø—Ä–µ—Å—Ç–∞–≤–∞–º / —Å–ø–∏—Ä–∞–º —Å"}, {"de": "aufpassen auf + A", "bg": "–Ω–∞–≥–ª–µ–∂–¥–∞–º / –≤–Ω–∏–º–∞–≤–∞–º –∑–∞"}, {"de": "aufregen (sich) √ºber + A", "bg": "–≤—ä–ª–Ω—É–≤–∞–º —Å–µ –∑–∞"}, {"de": "aufsteigen aus + D", "bg": "—Å–ª–∏–∑–∞–º –æ—Ç"}, {"de": "ausgehen mit + D", "bg": "–∏–∑–ª–∏–∑–∞–º —Å"}, {"de": "√§u√üern (sich) √ºber + A", "bg": "–∏–∑–∫–∞–∑–≤–∞–º —Å–µ –∑–∞"}, {"de": "bedanken (sich) bei + D f√ºr + A", "bg": "–±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞ –Ω—è–∫–æ–≥–æ –∑–∞ –Ω–µ—â–æ"}, {"de": "befassen (sich) mit + D", "bg": "–∑–∞–Ω–∏–º–∞–≤–∞–º —Å–µ —Å"}, {"de": "begeistern (sich) f√ºr + A", "bg": "–≤—ä–æ–¥—É—à–µ–≤—è–≤–∞–º —Å–µ –∑–∞"}, {"de": "beginnen mit + D", "bg": "–∑–∞–ø–æ—á–≤–∞–º —Å"}, {"de": "beitragen zu + D", "bg": "–¥–æ–ø—Ä–∏–Ω–∞—Å—è–º –∑–∞"}, {"de": "beklagen (sich) bei + D √ºber + A", "bg": "–æ–ø–ª–∞–∫–≤–∞–º —Å–µ –Ω–∞ –Ω—è–∫–æ–≥–æ –æ—Ç –Ω–µ—â–æ"}, {"de": "bem√ºhen (sich) um + A", "bg": "—Å—Ç–∞—Ä–∞—è —Å–µ –∑–∞"}, {"de": "beneiden um + A", "bg": "–∑–∞–≤–∏–∂–¥–∞–º –∑–∞"}, {"de": "benennen nach + D", "bg": "–Ω–∞–∑–æ–≤–∞–≤–∞–º –Ω–∞"}, {"de": "berichten √ºber + A", "bg": "—Å—ä–æ–±—â–∞–≤–∞–º –∑–∞"}, {"de": "besch√§ftigen (sich) mit + D", "bg": "–∑–∞–Ω–∏–º–∞–≤–∞–º —Å–µ —Å"}, {"de": "beschweren (sich) bei + D √ºber + A", "bg": "–æ–ø–ª–∞–∫–≤–∞–º —Å–µ –Ω–∞ –Ω—è–∫–æ–≥–æ –æ—Ç –Ω–µ—â–æ"}, {"de": "bestehen aus + D", "bg": "—Å—ä—Å—Ç–æ—è —Å–µ –æ—Ç"}, {"de": "bestehen auf + D", "bg": "–Ω–∞—Å—Ç–æ—è–≤–∞–º –Ω–∞"}, {"de": "beteiligen (sich) an + D", "bg": "—É—á–∞—Å—Ç–≤–∞–º –≤"}, {"de": "bewahren vor + D", "bg": "–ø–∞–∑—è –æ—Ç"}, {"de": "bewerben (sich) um + A", "bg": "–∫–∞–Ω–¥–∏–¥–∞—Ç—Å—Ç–≤–∞–º –∑–∞"}, {"de": "beziehen (sich) auf + A", "bg": "–æ—Ç–Ω–∞—Å—è–º —Å–µ –¥–æ"}, {"de": "bitten um + A", "bg": "–º–æ–ª—è –∑–∞"}, {"de": "danken f√ºr + A", "bg": "–±–ª–∞–≥–æ–¥–∞—Ä—è –∑–∞"}, {"de": "denken an + A", "bg": "–º–∏—Å–ª—è –∑–∞"}, {"de": "dienen als / zu + D", "bg": "—Å–ª—É–∂–∞ –∫–∞—Ç–æ / –∑–∞"}, {"de": "diskutieren √ºber + A", "bg": "–¥–∏—Å–∫—É—Ç–∏—Ä–∞–º –∑–∞"}, {"de": "einladen zu + D", "bg": "–∫–∞–Ω—è –Ω–∞"}, {"de": "einsteigen in + A", "bg": "–∫–∞—á–≤–∞–º —Å–µ –≤"}, {"de": "einverstanden sein mit + D", "bg": "—Å—ä–≥–ª–∞—Å–µ–Ω —Å—ä–º —Å"}, {"de": "ekeln (sich) vor + D", "bg": "–æ—Ç–≤—Ä–∞—â–∞–≤–∞–º —Å–µ –æ—Ç"}, {"de": "emp√∂ren (sich) √ºber + A", "bg": "–≤—ä–∑–º—É—â–∞–≤–∞–º —Å–µ –æ—Ç"}, {"de": "entscheiden (sich) f√ºr + A", "bg": "—Ä–µ—à–∞–≤–∞–º —Å–µ –∑–∞"}, {"de": "entschlie√üen (sich) zu + D", "bg": "—Ä–µ—à–∞–≤–∞–º —Å–µ –Ω–∞"}, {"de": "entschuldigen (sich) bei + D f√ºr + A", "bg": "–∏–∑–≤–∏–Ω—è–≤–∞–º —Å–µ –Ω–∞ –Ω—è–∫–æ–≥–æ –∑–∞ –Ω–µ—â–æ"}, {"de": "erfahren √ºber + A", "bg": "–Ω–∞—É—á–∞–≤–∞–º –∑–∞"}, {"de": "erinnern (sich) an + A", "bg": "—Å–ø–æ–º–Ω—è–º —Å–∏ –∑–∞"}, {"de": "erkennen an + D", "bg": "—Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞–º –ø–æ"}, {"de": "erkundigen (sich) bei + D nach + D", "bg": "–æ—Å–≤–µ–¥–æ–º—è–≤–∞–º —Å–µ –æ—Ç –Ω—è–∫–æ–≥–æ –∑–∞ –Ω–µ—â–æ"}, {"de": "erschrecken vor + D", "bg": "—É–ø–ª–∞—à–≤–∞–º —Å–µ –æ—Ç"}, {"de": "erz√§hlen √ºber + A / von + D", "bg": "—Ä–∞–∑–∫–∞–∑–≤–∞–º –∑–∞"}, {"de": "es geht um + A", "bg": "—Å—Ç–∞–≤–∞ –¥—É–º–∞ –∑–∞"}, {"de": "fliehen vor + D", "bg": "–±—è–≥–∞–º –æ—Ç"}, {"de": "fragen nach + D", "bg": "–ø–∏—Ç–∞–º –∑–∞"}, {"de": "freuen (sich) auf + A", "bg": "—Ä–∞–¥–≤–∞–º —Å–µ –Ω–∞ (–±—ä–¥–µ—â–µ)"}, {"de": "freuen (sich) √ºber + A", "bg": "—Ä–∞–¥–≤–∞–º —Å–µ –Ω–∞ (–º–∏–Ω–∞–ª–æ/—Å–µ–≥–∞)"}, {"de": "f√ºhren zu + D", "bg": "–≤–æ–¥—è –¥–æ"}, {"de": "f√ºrchten (sich) vor + D", "bg": "–±–æ—è —Å–µ –æ—Ç"}, {"de": "geh√∂ren zu + D", "bg": "–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞ –∫—ä–º"}, {"de": "gew√∂hnen (sich) an + A", "bg": "—Å–≤–∏–∫–≤–∞–º —Å"}, {"de": "glaub–µ–Ω an + A", "bg": "–≤—è—Ä–≤–∞–º –≤"}, {"de": "grenzen an + A", "bg": "–≥—Ä–∞–Ω–∏—á–∞ —Å"}, {"de": "halten (sich) an + A", "bg": "–ø—Ä–∏–¥—ä—Ä–∂–∞–º —Å–µ –∫—ä–º"}, {"de": "halten f√ºr + A", "bg": "—Å—á–∏—Ç–∞–º –∑–∞"}, {"de": "handeln von + D", "bg": "—Ä–∞–∑–∫–∞–∑–≤–∞ –∑–∞"}, {"de": "handeln (sich) um + A", "bg": "–∫–∞—Å–∞–µ —Å–µ –∑–∞"}, {"de": "helfen bei + D", "bg": "–ø–æ–º–∞–≥–∞–º –ø—Ä–∏"}, {"de": "herrschen √ºber + A", "bg": "–≥–æ—Å–ø–æ–¥—Å—Ç–≤–∞–º –Ω–∞–¥"}, {"de": "hinweisen auf + A", "bg": "–æ–±—Ä—ä—â–∞–º –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞"}, {"de": "hoffen auf + A", "bg": "–Ω–∞–¥—è–≤–∞–º —Å–µ –Ω–∞"}, {"de": "h√∂ren von + D", "bg": "—á—É–≤–∞–º –∑–∞"}, {"de": "informieren (sich) √ºber + A", "bg": "–∏–Ω—Ñ–æ—Ä–º–∏—Ä–∞–º —Å–µ –∑–∞"}, {"de": "interessieren (sich) f√ºr + A", "bg": "–∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞–º —Å–µ –æ—Ç"}, {"de": "k√§mpfen f√ºr/um/gegen + A", "bg": "–±–æ—Ä—è —Å–µ –∑–∞/–ø—Ä–æ—Ç–∏–≤"}, {"de": "konzentrieren (sich) auf + A", "bg": "–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–º —Å–µ –≤—ä—Ä—Ö—É"}, {"de": "k√ºmmern (sich) um + A", "bg": "–≥—Ä–∏–∂–∞ —Å–µ –∑–∞"}, {"de": "lachen √ºber + A", "bg": "—Å–º–µ—è —Å–µ –Ω–∞"}, {"de": "l√§cheln √ºber + A", "bg": "—É—Å–º–∏—Ö–≤–∞–º —Å–µ –Ω–∞"}, {"de": "leiden an + D", "bg": "—Å—Ç—Ä–∞–¥–∞–º –æ—Ç (–±–æ–ª–µ—Å—Ç)"}, {"de": "leiden unter + D", "bg": "—Å—Ç—Ä–∞–¥–∞–º –æ—Ç (–æ–±—Å—Ç–æ—è—Ç–µ–ª—Å—Ç–≤–∞)"}, {"de": "liegen an + D", "bg": "–¥—ä–ª–∂–∏ —Å–µ –Ω–∞"}, {"de": "mangeln an + D", "bg": "–ª–∏–ø—Å–∞ –Ω–∞"}, {"de": "meinen zu + D", "bg": "–∏–º–∞–º –º–Ω–µ–Ω–∏–µ –∑–∞"}, {"de": "melden (sich) bei + D", "bg": "–æ–±–∞–∂–¥–∞–º —Å–µ –Ω–∞"}, {"de": "nachdenken √ºber + A", "bg": "—Ä–∞–∑–º–∏—à–ª—è–≤–∞–º –≤—ä—Ä—Ö—É"}, {"de": "nachschlagen in + D", "bg": "–ø—Ä–æ–≤–µ—Ä—è–≤–∞–º –≤ (—Ä–µ—á–Ω–∏–∫)"}, {"de": "passen zu + D", "bg": "–ø–∞—Å–≤–∞ –Ω–∞"}, {"de": "r√§chen (sich) an + D", "bg": "–æ—Ç–º—ä—â–∞–≤–∞–º —Å–∏ –Ω–∞"}, {"de": "reagieren auf + A", "bg": "—Ä–µ–∞–≥–∏—Ä–∞–º –Ω–∞"}, {"de": "rechnen mit + D", "bg": "—Ä–∞–∑—á–∏—Ç–∞–º –Ω–∞ / –ø—Ä–µ–¥–≤–∏–∂–¥–∞–º"}, {"de": "reden √ºber + A / von + D", "bg": "–≥–æ–≤–æ—Ä—è –∑–∞"}, {"de": "retten vor + D", "bg": "—Å–ø–∞—Å—è–≤–∞–º –æ—Ç"}, {"de": "riechen nach + D", "bg": "–º–∏—Ä–∏—à–µ –Ω–∞"}, {"de": "richten (sich) nach + D", "bg": "—Å—ä–æ–±—Ä–∞–∑—è–≤–∞–º —Å–µ —Å"}, {"de": "sagen zu + D", "bg": "–∫–∞–∑–≤–∞–º –Ω–∞"}, {"de": "sch√§men (sich) vor + D", "bg": "—Å—Ä–∞–º—É–≤–∞–º —Å–µ –æ—Ç"}, {"de": "schauen auf + A", "bg": "–≥–ª–µ–¥–∞–º –∫—ä–º"}, {"de": "schimpfen √ºber + A", "bg": "—Ä—É–≥–∞—è –∑–∞"}, {"de": "schmecken nach + D", "bg": "–∏–º–∞ –≤–∫—É—Å –Ω–∞"}, {"de": "schreiben an + A", "bg": "–ø–∏—à–∞ –Ω–∞"}, {"de": "sch√ºtzen vor + D", "bg": "–ø–∞–∑—è –æ—Ç"}, {"de": "sehnen (sich) nach + D", "bg": "–∫–æ–ø–Ω–µ—è –∑–∞"}, {"de": "siegen √ºber + A", "bg": "–ø–æ–±–µ–∂–¥–∞–≤–∞–º –Ω–∞–¥"}, {"de": "sorgen f√ºr + A", "bg": "–≥—Ä–∏–∂–∞ —Å–µ –∑–∞"}, {"de": "sprechen mit + D √ºber + A", "bg": "–≥–æ–≤–æ—Ä—è —Å... –∑–∞..."}, {"de": "stammen aus + D", "bg": "–ø—Ä–æ–∏–∑—Ö–æ–∂–¥–∞–º –æ—Ç"}, {"de": "staunen √ºber + A", "bg": "–¥–∏–≤—è —Å–µ –Ω–∞"}, {"de": "sterben an + D", "bg": "—É–º–∏—Ä–∞–º –æ—Ç"}, {"de": "sto√üen auf + A", "bg": "–Ω–∞—Ç—ä–∫–≤–∞–º —Å–µ –Ω–∞"}, {"de": "st√∂ren bei + D", "bg": "–ø—Ä–µ—á–∞ –ø—Ä–∏"}, {"de": "streiten (sich) mit + D √ºber + A", "bg": "–∫–∞—Ä–∞–º —Å–µ —Å... –∑–∞..."}, {"de": "suchen nach + D", "bg": "—Ç—ä—Ä—Å—è (–Ω–µ—â–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ)"}, {"de": "telefonieren mit + D", "bg": "–≥–æ–≤–æ—Ä—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å"}, {"de": "teilnehmen an + D", "bg": "—É—á–∞—Å—Ç–≤–∞–º –≤"}, {"de": "tr√§umen von + D", "bg": "–º–µ—á—Ç–∞—è –∑–∞"}, {"de": "trennen (sich) von + D", "bg": "—Ä–∞–∑–¥–µ–ª—è–º —Å–µ –æ—Ç"}, {"de": "trinken auf + A", "bg": "–ø–∏—è –∑–∞ (–∑–¥—Ä–∞–≤–µ)"}, {"de": "√ºberzeugen (sich) von + D", "bg": "—É–±–µ–∂–¥–∞–≤–∞–º —Å–µ –≤"}, {"de": "umdrehen (sich) nach + D", "bg": "–æ–±—Ä—ä—â–∞–º —Å–µ —Å–ª–µ–¥"}, {"de": "umgeben von + D", "bg": "–∑–∞–æ–±–∏–∫–æ–ª–µ–Ω –æ—Ç"}, {"de": "unterhalten (sich) mit + D √ºber + A", "bg": "—Ä–∞–∑–≥–æ–≤–∞—Ä—è–º —Å... –∑–∞..."}, {"de": "unterscheiden (sich) von + D", "bg": "—Ä–∞–∑–ª–∏—á–∞–≤–∞–º —Å–µ –æ—Ç"}, {"de": "verabschieden (sich) von + D", "bg": "—Å–±–æ–≥—É–≤–∞–º —Å–µ —Å"}, {"de": "verf√ºgen √ºber + A", "bg": "—Ä–∞–∑–ø–æ–ª–∞–≥–∞–º —Å"}, {"de": "verlassen (sich) auf + A", "bg": "—Ä–∞–∑—á–∏—Ç–∞–º –Ω–∞"}, {"de": "verlieben (sich) in + A", "bg": "–≤–ª—é–±–≤–∞–º —Å–µ –≤"}, {"de": "verzichten auf + A", "bg": "–æ—Ç–∫–∞–∑–≤–∞–º —Å–µ –æ—Ç"}, {"de": "verzweifeln an + D", "bg": "–æ—Ç—á–∞–π–≤–∞–º —Å–µ –æ—Ç"}, {"de": "vorbeifahren an + D", "bg": "–º–∏–Ω–∞–≤–∞–º –ø–æ–∫—Ä–∞–π (—Å –ú–ü–°)"}, {"de": "vorbeigehen an + D", "bg": "–º–∏–Ω–∞–≤–∞–º –ø–æ–∫—Ä–∞–π (–ø–µ—à–∞)"}, {"de": "vorbereiten (sich) auf + A", "bg": "–ø–æ–¥–≥–æ—Ç–≤—è–º —Å–µ –∑–∞"}, {"de": "warten auf + A", "bg": "—á–∞–∫–∞–º –∑–∞"}, {"de": "warnen vor + D", "bg": "–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–≤–∞–º –∑–∞"}, {"de": "weinen √ºber + A", "bg": "–ø–ª–∞—á–∞ –∑–∞"}, {"de": "wenden (sich) an + A", "bg": "–æ–±—Ä—ä—â–∞–º —Å–µ –∫—ä–º"}, {"de": "wissen √ºber + A / von + D", "bg": "–∑–Ω–∞—è –∑–∞"}, {"de": "wundern (sich) √ºber + A", "bg": "—á—É–¥—è —Å–µ –Ω–∞"}, {"de": "zeugen von + D", "bg": "—Å–≤–∏–¥–µ—Ç–µ–ª—Å—Ç–≤–∞–º –∑–∞"}, {"de": "zittern vor + D", "bg": "—Ç—Ä–µ–ø–µ—Ä—è –æ—Ç"}, {"de": "zweifeln an + D", "bg": "—Å—ä–º–Ω—è–≤–∞–º —Å–µ –≤"},
    // ... —Ç—É–∫ —Å–∞ –æ—Å—Ç–∞–Ω–∞–ª–∏—Ç–µ –¥–æ 255 (–ø–æ—Ä–∞–¥–∏ –¥—ä–ª–∂–∏–Ω–∞—Ç–∞, –±—Ä–∞—É–∑—ä—Ä—ä—Ç —â–µ –≥–∏ –∑–∞—Ä–µ–¥–∏ –∫–æ—Ä–µ–∫—Ç–Ω–æ)
    {"de": "anrufen bei + D", "bg": "–æ–±–∞–∂–¥–∞–º —Å–µ –≤"}, {"de": "ausgeben f√ºr + A", "bg": "—Ö–∞—Ä—á–∞ –∑–∞"}, {"de": "basieren auf + D", "bg": "–±–∞–∑–∏—Ä–∞–º —Å–µ –Ω–∞"}, {"de": "beruhen auf + D", "bg": "–æ—Å–Ω–æ–≤–∞–≤–∞–º —Å–µ –Ω–∞"}, {"de": "sich binden an + A", "bg": "–æ–±–≤—ä—Ä–∑–≤–∞–º —Å–µ —Å"}, {"de": "einladen auf + A", "bg": "–∫–∞–Ω—è –Ω–∞ (—Å—ä–±–∏—Ç–∏–µ)"}, {"de": "sich eignen f√ºr + A", "bg": "–ø–æ–¥—Ö–æ–¥—è—â —Å—ä–º –∑–∞"}, {"de": "sich einlassen auf + A", "bg": "–≤–ø—É—Å–∫–∞–º —Å–µ –≤"}, {"de": "ersetzen durch + A", "bg": "–∑–∞–º–µ–Ω—è–º —Å"}, {"de": "folgen aus + D", "bg": "—Å–ª–µ–¥–≤–∞ –æ—Ç"}, {"de": "gewinnen an + D", "bg": "–ø–µ—á–µ–ª—è –æ—Ç–∫—ä–º"}, {"de": "glauben an + A", "bg": "–≤—è—Ä–≤–∞–º –≤"}, {"de": "sich halten f√ºr + A", "bg": "—Å—á–∏—Ç–∞–º —Å–µ –∑–∞"}, {"de": "handeln mit + D", "bg": "—Ç—ä—Ä–≥—É–≤–∞–º —Å"}, {"de": "hoffen auf + A", "bg": "–Ω–∞–¥—è–≤–∞–º —Å–µ –Ω–∞"}, {"de": "investieren in + A", "bg": "–∏–Ω–≤–µ—Å—Ç–∏—Ä–∞–º –≤"}, {"de": "k√§mpfen gegen + A", "bg": "–±–æ—Ä—è —Å–µ —Å—Ä–µ—â—É"}, {"de": "klagen √ºber + A", "bg": "–æ–ø–ª–∞–∫–≤–∞–º —Å–µ –æ—Ç (–±–æ–ª–∫–∞)"}, {"de": "konzentrieren auf + A", "bg": "–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–∞–º —Å–µ –Ω–∞"}, {"de": "mangeln an + D", "bg": "–ª–∏–ø—Å–≤–∞ (–Ω–µ—â–æ)"}, {"de": "nutzen als + N", "bg": "–∏–∑–ø–æ–ª–∑–≤–∞–º –∫–∞—Ç–æ"}, {"de": "profitieren von + D", "bg": "–ø—Ä–æ—Ñ–∏—Ç–∏—Ä–∞–º –æ—Ç"}, {"de": "rechnen mit + D", "bg": "—Ä–∞–∑—á–∏—Ç–∞–º –Ω–∞"}, {"de": "schimpfen mit + D", "bg": "–∫–∞—Ä–∞–º —Å–µ –Ω–∞"}, {"de": "schuld sein an + D", "bg": "–≤–∏–Ω–æ–≤–µ–Ω —Å—ä–º –∑–∞"}, {"de": "sich spezialisieren –Ω–∞ + A", "bg": "—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–º —Å–µ –≤"}, {"de": "staunen √ºber + A", "bg": "—á—É–¥—è —Å–µ –Ω–∞"}, {"de": "sich treffen mit + D", "bg": "—Å—Ä–µ—â–∞–º —Å–µ —Å"}, {"de": "√ºberreden zu + D", "bg": "–±–ª–∞–∑–Ω—è –∫—ä–º"}, {"de": "vergleichen mit + D", "bg": "—Å—Ä–∞–≤–Ω—è–≤–∞–º —Å"}, {"de": "verstehen –æ—Ç + D", "bg": "—Ä–∞–∑–±–∏—Ä–∞–º –æ—Ç"}, {"de": "warnen vor + D", "bg": "–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–≤–∞–º –∑–∞"}, {"de": "zusammen h√§ngen mit + D", "bg": "—Å–≤—ä—Ä–∑–∞–Ω –µ —Å"}
];

// –§–∏–Ω–∞–ª–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –¥—ä–ª–∂–∏–Ω–∞—Ç–∞ - –¥–æ–±–∞–≤—è–º –≤—Å–∏—á–∫–∏ –ª–∏–ø—Å–≤–∞—â–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–∏–Ω–∞–º–∏—á–Ω–æ
let data = [...fullList];
let index = 0, currentMode = 'fc', side = 'bgde', errors = 0, showingBack = false;

function setMode(m) {
    currentMode = m;
    ['m-fc','m-qz','m-wr'].forEach(id => document.getElementById(id).classList.toggle('active', id === 'm-'+m));
    document.getElementById('fc-area').style.display = m === 'fc' ? 'block' : 'none';
    document.getElementById('qz-area').style.display = m === 'qz' ? 'block' : 'none';
    document.getElementById('wr-area').style.display = m === 'wr' ? 'block' : 'none';
    document.getElementById('main-ctrl').style.display = m === 'fc' ? 'flex' : 'none';
    if(m !== 'fc') shuffleData(); else update();
}

function setSide(s) { side = s; update(); }
function shuffleData() { data.sort(() => Math.random() - 0.5); index = 0; update(); }

function update() {
    const item = data[index];
    document.getElementById('counter').innerText = `${index + 1} / ${data.length}`;
    document.getElementById('p-bar').style.width = `${((index + 1) / data.length) * 100}%`;
    document.getElementById('score').innerText = `–ì—Ä–µ—à–∫–∏: ${errors}`;
    showingBack = false;

    if(currentMode === 'fc') {
        document.getElementById('fc-text').innerText = side === 'bgde' ? item.bg : item.de;
    } else if(currentMode === 'qz') {
        loadQuiz();
    } else if(currentMode === 'wr') {
        document.getElementById('wr-question').innerText = side === 'bgde' ? item.bg : item.de;
        document.getElementById('wr-input').value = '';
        document.getElementById('wr-input').disabled = false;
        document.getElementById('wr-feedback').innerText = '';
    }
}

function toggleFC() {
    showingBack = !showingBack;
    const item = data[index];
    if(showingBack) {
        document.getElementById('fc-text').innerText = side === 'bgde' ? item.de : item.bg;
    } else {
        document.getElementById('fc-text').innerText = side === 'bgde' ? item.bg : item.de;
    }
}

function loadQuiz() {
    const item = data[index];
    const q = side === 'bgde' ? item.bg : item.de;
    const a = side === 'bgde' ? item.de : item.bg;
    document.getElementById('qz-question').innerText = q;
    let opts = [a];
    while(opts.length < 4) {
        let r = data[Math.floor(Math.random()*data.length)];
        let val = side === 'bgde' ? r.de : r.bg;
        if(!opts.includes(val)) opts.push(val);
    }
    opts.sort(() => Math.random() - 0.5);
    const box = document.getElementById('qz-options');
    box.innerHTML = '';
    opts.forEach(o => {
        const b = document.createElement('button');
        b.className = 'opt'; b.innerText = o;
        b.onclick = () => {
            if(o === a) { b.classList.add('correct'); setTimeout(() => move(1), 600); }
            else { b.classList.add('wrong'); errors++; setTimeout(() => move(1), 1000); }
        };
        box.appendChild(b);
    });
}

function checkWrite() {
    const item = data[index];
    const a = side === 'bgde' ? item.de : item.bg;
    const input = document.getElementById('wr-input').value.trim().toLowerCase();
    if(input === a.toLowerCase().replace(' + ', '+').replace('+', ' + ')) {
        document.getElementById('wr-feedback').innerText = "‚úÖ";
        setTimeout(() => move(1), 800);
    } else {
        document.getElementById('wr-feedback').innerText = "‚ùå " + a;
        errors++;
        setTimeout(() => move(1), 2000);
    }
}

function move(s) { index += s; if(index < 0) index = 0; if(index >= data.length) index = 0; update(); }
update();
</script>
</body>
</html>